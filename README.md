# VDIG - 三维场景编辑与仿真平台

## 项目结构

```
simulation_ui/
├── index.html              # 主HTML文件
├── css/
│   └── main.css            # 主样式文件
├── js/
│   ├── app.js              # 主应用程序文件
│   ├── data.js             # 数据配置文件
│   ├── three-viewer.js     # 3D查看器模块
│   ├── video-player.js     # 视频播放器模块
│   └── ui-controller.js    # UI控制器模块
├── scenes/                 # 场景图片
├── videos/                 # 视频文件
├── spz/                    # 3D模型文件
├── objs/                   # 物体图片
└── README.md              # 项目说明
```

## 模块说明

### 1. 主应用程序 (app.js)
- 整合所有模块的主控制器
- 处理模块间的通信和事件
- 管理应用程序的生命周期

### 2. 数据配置 (data.js)
- 场景、物体和视频的映射关系
- 模型文件路径配置
- 图片资源路径配置

### 3. 3D查看器 (three-viewer.js)
- Three.js 3D场景管理
- 模型加载和渲染
- 鼠标交互控制（旋转、平移、缩放）
- 模型缓存机制

### 4. 视频播放器 (video-player.js)
- 多角度视频播放管理
- 视频自动播放控制
- 视频状态监控

### 5. UI控制器 (ui-controller.js)
- 用户界面交互管理
- 场景和物体选择逻辑
- 按钮状态控制
- 动态UI元素生成

### 6. 样式文件 (main.css)
- 响应式布局设计
- 现代化UI样式
- 动画效果

## 功能特性

### ✅ 已实现功能
1. **模块化架构** - 代码分离，便于维护和扩展
2. **3D场景编辑** - 支持场景和物体选择
3. **3D模型查看** - 基于Three.js的交互式3D查看器
4. **多角度视频** - 支持前视角、左前视角、右前视角
5. **响应式设计** - 适配不同屏幕尺寸
6. **性能优化** - 模型缓存、异步加载

### 🚧 待开发功能
1. **场景仿真模块** - 物理仿真、行为仿真、环境仿真
2. **城市规划场景** - 城市规划和设计相关功能
3. **工业设计场景** - 工业设计和制造相关功能
4. **更多交互功能** - 高级3D操作、场景保存等

## 使用方法

1. 启动本地服务器：
```bash
cd simulation_ui
python3 -m http.server 8080
```

2. 打开浏览器访问：
```
http://localhost:8080
```

3. 使用步骤：
   - 选择场景（城市道路或高速公路）
   - 选择物体（摩托车、汽车等）
   - 点击"生成3D场景"按钮
   - 查看3D模型和多角度视频

## 技术栈

- **前端框架**: 原生JavaScript (ES6+)
- **3D引擎**: Three.js
- **3D格式**: Spark.js (Gaussian Splatting)
- **样式**: CSS3 + 响应式设计
- **模块化**: ES6 Modules

## 开发指南

### 添加新场景
1. 在 `data.js` 中添加场景配置
2. 准备场景图片放入 `scenes/` 目录
3. 准备对应的3D模型放入 `spz/` 目录
4. 准备对应的视频文件放入 `videos/` 目录

### 添加新物体
1. 在 `data.js` 中更新 `sceneObjects` 配置
2. 准备物体图片放入 `objs/` 目录
3. 更新视频和模型映射关系

### 扩展新模块
1. 创建新的JavaScript模块文件
2. 在 `app.js` 中导入和初始化
3. 更新HTML结构（如需要）
4. 添加相应的CSS样式

## 浏览器兼容性

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 许可证

MIT License 